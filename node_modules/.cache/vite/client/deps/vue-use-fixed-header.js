import {
  computed,
  onBeforeUnmount,
  onMounted,
  readonly,
  ref,
  shallowRef,
  unref,
  watch
} from "./chunk-K6US37WQ.js";
import "./chunk-UV5CTPV7.js";

// node_modules/vue-use-fixed-header/dist/index.js
var K = Object.defineProperty;
var Q = Object.defineProperties;
var W = Object.getOwnPropertyDescriptors;
var N = Object.getOwnPropertySymbols;
var X = Object.prototype.hasOwnProperty;
var Z = Object.prototype.propertyIsEnumerable;
var I = (t, n, i) => n in t ? K(t, n, { enumerable: true, configurable: true, writable: true, value: i }) : t[n] = i;
var u = (t, n) => {
  for (var i in n || (n = {}))
    X.call(n, i) && I(t, i, n[i]);
  if (N)
    for (var i of N(n))
      Z.call(n, i) && I(t, i, n[i]);
  return t;
};
var L = (t, n) => Q(t, W(n));
var y = typeof window != "undefined";
function ie() {
  const t = ref(false);
  if (!y)
    return t;
  const n = window.matchMedia("(prefers-reduced-motion: reduce)"), i = () => t.value = n.matches;
  return onMounted(() => {
    var l;
    i(), (l = n.addEventListener) == null || l.call(n, "change", i);
  }), onBeforeUnmount(() => {
    var l;
    (l = n.removeEventListener) == null || l.call(n, "change", i);
  }), t;
}
var B = "cubic-bezier(0.16, 1, 0.3, 1)";
var re = {
  enterStyles: {
    transition: `all 0.35s ${B} 0s`,
    transform: "translateY(0px)"
  },
  leaveStyles: {
    transition: `all 0.5s ${B} 0s`,
    transform: "translateY(-101%)"
  }
};
function le(t, n = {}) {
  const { enterStyles: i, leaveStyles: l } = re, P = () => n.root || n.root === null ? unref(n.root) : null, b = () => n.transitionOpacity === void 0 ? false : unref(n.transitionOpacity), Y = ie(), s = {
    resizeObserver: void 0,
    initResizeObserver: false,
    isListeningScroll: false,
    isHovering: false
  }, v = shallowRef({}), a = ref(
    0
    /* READY */
  ), m = (e) => v.value = e, g = () => v.value = {}, h = (e) => a.value = e;
  function d() {
    const e = P();
    return e != null ? e : document.documentElement;
  }
  function p() {
    const e = d();
    return e ? e.scrollTop : 0;
  }
  function _() {
    const e = unref(t);
    if (!e)
      return false;
    const { position: o, display: c } = window.getComputedStyle(e);
    return (o === "fixed" || o === "sticky") && c !== "none";
  }
  function A() {
    const e = unref(t);
    if (!e)
      return 0;
    let o = e.scrollHeight;
    const { marginTop: c, marginBottom: f } = window.getComputedStyle(e);
    return o += Number.parseFloat(c) + Number.parseFloat(f), o;
  }
  function U() {
    s.resizeObserver = new ResizeObserver(() => {
      if (!s.initResizeObserver)
        return s.initResizeObserver = true;
      z();
    });
    const e = d();
    e && s.resizeObserver.observe(e);
  }
  function R() {
    a.value !== 1 && (E(), m(L(u(u({}, i), b() ? { opacity: 1 } : {}), {
      visibility: ""
    })), h(
      1
      /* ENTER */
    ));
  }
  function V() {
    a.value !== 2 && (m(u(u({}, l), b() ? { opacity: 0 } : {})), h(
      2
      /* LEAVE */
    ), $());
  }
  function w(e) {
    if (E(), !unref(t) || e.target !== unref(t) || e.propertyName !== "transform")
      return;
    const { transform: o } = window.getComputedStyle(unref(t));
    o !== "matrix(1, 0, 0, 1, 0, 0)" && m(L(u({}, l), {
      visibility: "hidden"
    }));
  }
  function $() {
    const e = unref(t);
    e && e.addEventListener("transitionend", w);
  }
  function E() {
    const e = unref(t);
    e && e.removeEventListener("transitionend", w);
  }
  function k() {
    let e = y ? p() : 0;
    return () => {
      const o = p(), c = o <= A(), f = o < e, S = o > e, x = Math.abs(o - e);
      if (c)
        return R();
      x < 10 || (s.isHovering || (f ? R() : S && V()), e = p());
    };
  }
  const O = k();
  function D() {
    const e = d();
    if (!e)
      return;
    (e === document.documentElement ? document : e).addEventListener("scroll", O, { passive: true }), s.isListeningScroll = true;
  }
  function G() {
    const e = d();
    if (!e)
      return;
    (e === document.documentElement ? document : e).removeEventListener("scroll", O), s.isListeningScroll = false;
  }
  function T(e) {
    var o, c;
    s.isHovering = (c = (o = unref(t)) == null ? void 0 : o.contains(e.target)) != null ? c : false;
  }
  function j() {
    document.addEventListener("pointermove", T);
  }
  function J() {
    document.removeEventListener("pointermove", T);
  }
  function z() {
    const e = _();
    s.isListeningScroll ? e || (H(), g()) : e && (D(), j());
  }
  function H() {
    G(), J();
  }
  return y && watch(
    () => [unref(t), d(), Y.value, unref(n.watch)],
    ([e, o, c], f, S) => {
      !c && e && (o || o === null) && (U(), z()), S(() => {
        var M;
        H(), g(), (M = s.resizeObserver) == null || M.disconnect(), s.initResizeObserver = false;
      });
    },
    { immediate: true, flush: "post" }
  ), {
    styles: readonly(v),
    isLeave: computed(
      () => a.value === 2
      /* LEAVE */
    ),
    isEnter: computed(
      () => a.value === 1
      /* ENTER */
    )
  };
}
export {
  le as useFixedHeader
};
//# sourceMappingURL=vue-use-fixed-header.js.map
